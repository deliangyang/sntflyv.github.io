import{_ as s,c as a,o as n,a as l}from"./app.0ce55433.js";const C=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":3,"title":"Linux \u795E\u5947\u7684 shell \u547D\u4EE4","slug":"linux-\u795E\u5947\u7684-shell-\u547D\u4EE4","link":"#linux-\u795E\u5947\u7684-shell-\u547D\u4EE4","children":[]},{"level":3,"title":"Grep \u6587\u4EF6\u67E5\u627E","slug":"grep-\u6587\u4EF6\u67E5\u627E","link":"#grep-\u6587\u4EF6\u67E5\u627E","children":[]},{"level":3,"title":"sed \u66FF\u6362","slug":"sed-\u66FF\u6362","link":"#sed-\u66FF\u6362","children":[]},{"level":3,"title":"awk","slug":"awk","link":"#awk","children":[]},{"level":3,"title":"sort","slug":"sort","link":"#sort","children":[]},{"level":3,"title":"\u5982\u4F55\u9010\u884C\u8BFB\u53D6","slug":"\u5982\u4F55\u9010\u884C\u8BFB\u53D6","link":"#\u5982\u4F55\u9010\u884C\u8BFB\u53D6","children":[]},{"level":3,"title":"jq  Command-line JSON processor","slug":"jq-command-line-json-processor","link":"#jq-command-line-json-processor","children":[]},{"level":3,"title":"Demo","slug":"demo","link":"#demo","children":[]}],"relativePath":"t/Linux/2019/2019-12-17-grep-awk-sed-sort-etc.md","lastUpdated":1729589704000}'),e={name:"t/Linux/2019/2019-12-17-grep-awk-sed-sort-etc.md"},p=l(`<h3 id="linux-\u795E\u5947\u7684-shell-\u547D\u4EE4" tabindex="-1">Linux \u795E\u5947\u7684 shell \u547D\u4EE4 <a class="header-anchor" href="#linux-\u795E\u5947\u7684-shell-\u547D\u4EE4" aria-hidden="true">#</a></h3><p>\u4E3A\u4EC0\u4E48\u63A8\u8350 linux \u7684 shell\uFF0C\u662F\u56E0\u4E3A\u5728\u5DE5\u4F5C\u4E2D\u4F7F\u7528 shell \u6E05\u6D17\u51E0\u767E G \u7684\u65E5\u5FD7\uFF0C\u53EF\u4EE5\u5F88\u9AD8\u6548\u7684\u5B8C\u6210\uFF0C<br> \u53EF\u4EE5\u5C11\u4E9B\u5F88\u591A\u7684\u4EE3\u7801\u3002</p><h3 id="grep-\u6587\u4EF6\u67E5\u627E" tabindex="-1">Grep \u6587\u4EF6\u67E5\u627E <a class="header-anchor" href="#grep-\u6587\u4EF6\u67E5\u627E" aria-hidden="true">#</a></h3><h4 id="p-\u6B63\u5219\u5339\u914D-perl-regexp-style" tabindex="-1">-P \u6B63\u5219\u5339\u914D perl-regexp style <a class="header-anchor" href="#p-\u6B63\u5219\u5339\u914D-perl-regexp-style" aria-hidden="true">#</a></h4><h4 id="v-\u548C-o-\u6B63\u597D\u76F8\u53CD-v-\u53D6\u53CD-\u4E0D\u5305\u542B\u7684\u884C-o-\u8FD9\u662F\u9009\u62E9\u5339\u914D\u4E2D\u7684\u5143\u7D20" tabindex="-1">-v \u548C -o \u6B63\u597D\u76F8\u53CD\uFF0C-v \u53D6\u53CD\uFF0C\u4E0D\u5305\u542B\u7684\u884C\uFF0C-o \u8FD9\u662F\u9009\u62E9\u5339\u914D\u4E2D\u7684\u5143\u7D20 <a class="header-anchor" href="#v-\u548C-o-\u6B63\u597D\u76F8\u53CD-v-\u53D6\u53CD-\u4E0D\u5305\u542B\u7684\u884C-o-\u8FD9\u662F\u9009\u62E9\u5339\u914D\u4E2D\u7684\u5143\u7D20" aria-hidden="true">#</a></h4><h4 id="color-c-\u9AD8\u4EAE\u914D\u7F6E\u7684\u5143\u7D20" tabindex="-1">--color, -c \u9AD8\u4EAE\u914D\u7F6E\u7684\u5143\u7D20 <a class="header-anchor" href="#color-c-\u9AD8\u4EAE\u914D\u7F6E\u7684\u5143\u7D20" aria-hidden="true">#</a></h4><h4 id="c-\u5339\u914D\u7684\u4E2A\u6570" tabindex="-1">-c \u5339\u914D\u7684\u4E2A\u6570 <a class="header-anchor" href="#c-\u5339\u914D\u7684\u4E2A\u6570" aria-hidden="true">#</a></h4><h4 id="a-after-b-before-c-after-and-before-\u663E\u793A\u5339\u914D\u4E2D\u7684\u524D\u51E0\u884C-\u540E\u51E0\u884C-\u524D\u540E\u51E0\u884C" tabindex="-1">-A after, -B before, -C after and before\uFF0C\u663E\u793A\u5339\u914D\u4E2D\u7684\u524D\u51E0\u884C\uFF0C\u540E\u51E0\u884C\uFF0C\u524D\u540E\u51E0\u884C <a class="header-anchor" href="#a-after-b-before-c-after-and-before-\u663E\u793A\u5339\u914D\u4E2D\u7684\u524D\u51E0\u884C-\u540E\u51E0\u884C-\u524D\u540E\u51E0\u884C" aria-hidden="true">#</a></h4><h4 id="\u5F85\u8865\u5145" tabindex="-1">\u5F85\u8865\u5145 <a class="header-anchor" href="#\u5F85\u8865\u5145" aria-hidden="true">#</a></h4><h3 id="sed-\u66FF\u6362" tabindex="-1">sed \u66FF\u6362 <a class="header-anchor" href="#sed-\u66FF\u6362" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> 123 </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sed </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s/2/4/g</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="awk" tabindex="-1">awk <a class="header-anchor" href="#awk" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">awk </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-F field-separator</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">commands</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> input-file</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> -e </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">a\\tb\\tc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> awk </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{print $1}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="f-f-t-f-b-\u5207\u5206\u6807\u5FD7-\u652F\u6301\u6B63\u5219\u8868\u8FBE\u5F0F" tabindex="-1">-F -F&quot;\\t&quot; -F&quot;b&quot; \u5207\u5206\u6807\u5FD7\uFF0C\u652F\u6301\u6B63\u5219\u8868\u8FBE\u5F0F <a class="header-anchor" href="#f-f-t-f-b-\u5207\u5206\u6807\u5FD7-\u652F\u6301\u6B63\u5219\u8868\u8FBE\u5F0F" aria-hidden="true">#</a></h4><h4 id="commands-\u652F\u6301\u6761\u4EF6\u63A7\u5236" tabindex="-1">commands \u652F\u6301\u6761\u4EF6\u63A7\u5236 <a class="header-anchor" href="#commands-\u652F\u6301\u6761\u4EF6\u63A7\u5236" aria-hidden="true">#</a></h4><h3 id="sort" tabindex="-1">sort <a class="header-anchor" href="#sort" aria-hidden="true">#</a></h3><p>-n, -r, -k</p><h3 id="\u5982\u4F55\u9010\u884C\u8BFB\u53D6" tabindex="-1">\u5982\u4F55\u9010\u884C\u8BFB\u53D6 <a class="header-anchor" href="#\u5982\u4F55\u9010\u884C\u8BFB\u53D6" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">cat test.txt </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">while</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">read</span><span style="color:#A6ACCD;"> LINE</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">do</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">LINE</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="jq-command-line-json-processor" tabindex="-1">jq Command-line JSON processor <a class="header-anchor" href="#jq-command-line-json-processor" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">cat 1.json </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> jq </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;"># prety print</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ccccc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">cat 1.json </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> jq </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.test</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;"># xxxx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">cat 1.json </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> jq </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.bb[0].ccccc</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;"># 2</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="demo" tabindex="-1">Demo <a class="header-anchor" href="#demo" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">#!/usr/bin/env bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> f </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">ls request-</span><span style="color:#89DDFF;">*)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">do</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">f</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">	gunzip -c </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">f</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> request.log</span></span>
<span class="line"><span style="color:#A6ACCD;">	grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/api/room/singers</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> request.log </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\\[\\]\\t{[^}]+}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> -Po </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sed </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s/\\[\\]\\t//g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> singer.log</span></span>
<span class="line"><span style="color:#A6ACCD;">	:</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> request.log</span></span>
<span class="line"><span style="color:#89DDFF;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">grep -P </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(wangsu|rtmp)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> callback.log </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">grep  -Po </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{.+\\[\\]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sed </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s/ \\[\\] \\[\\]//g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> callback.json.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">grep MIC_SINGER_CHANGED im.log </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep -Po </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{.+\\[\\]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sed </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s/ \\[\\]//g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> im.json.log</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>`,23),o=[p];function r(c,t,D,i,y,d){return n(),a("div",null,o)}const A=s(e,[["render",r]]);export{C as __pageData,A as default};
