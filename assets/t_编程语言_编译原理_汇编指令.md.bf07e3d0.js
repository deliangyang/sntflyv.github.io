import{_ as s,c as l,o as n,a}from"./app.0ce55433.js";const F=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u6C47\u7F16\u6307\u4EE4","slug":"\u6C47\u7F16\u6307\u4EE4","link":"#\u6C47\u7F16\u6307\u4EE4","children":[{"level":3,"title":"\u5BC4\u5B58\u5668","slug":"\u5BC4\u5B58\u5668","link":"#\u5BC4\u5B58\u5668","children":[]},{"level":3,"title":"\u5E38\u89C1\u6C47\u7F16\u6307\u4EE4","slug":"\u5E38\u89C1\u6C47\u7F16\u6307\u4EE4","link":"#\u5E38\u89C1\u6C47\u7F16\u6307\u4EE4","children":[]},{"level":3,"title":"\u6C47\u7F16\u957F\u4EC0\u4E48\u6837\u5B50","slug":"\u6C47\u7F16\u957F\u4EC0\u4E48\u6837\u5B50","link":"#\u6C47\u7F16\u957F\u4EC0\u4E48\u6837\u5B50","children":[]}]}],"relativePath":"t/\u7F16\u7A0B\u8BED\u8A00/\u7F16\u8BD1\u539F\u7406/\u6C47\u7F16\u6307\u4EE4.md","lastUpdated":1729589704000}'),p={name:"t/\u7F16\u7A0B\u8BED\u8A00/\u7F16\u8BD1\u539F\u7406/\u6C47\u7F16\u6307\u4EE4.md"},o=a(`<h2 id="\u6C47\u7F16\u6307\u4EE4" tabindex="-1">\u6C47\u7F16\u6307\u4EE4 <a class="header-anchor" href="#\u6C47\u7F16\u6307\u4EE4" aria-hidden="true">#</a></h2><h3 id="\u5BC4\u5B58\u5668" tabindex="-1">\u5BC4\u5B58\u5668 <a class="header-anchor" href="#\u5BC4\u5B58\u5668" aria-hidden="true">#</a></h3><ul><li>\u4E2D\u592E\u5904\u7406\u5668\u7528\u6765\u6682\u5B58...\u5B58\u50A8\u5668\uFF0C\u5B58\u50A8\u91CF\u6709\u9650\uFF0C\u8BFB\u5199\u901F\u5EA6\u5FEB <ul><li>\u6307\u4EE4</li><li>\u6570\u636E</li><li>\u5730\u5740</li></ul></li></ul><h3 id="\u5E38\u89C1\u6C47\u7F16\u6307\u4EE4" tabindex="-1">\u5E38\u89C1\u6C47\u7F16\u6307\u4EE4 <a class="header-anchor" href="#\u5E38\u89C1\u6C47\u7F16\u6307\u4EE4" aria-hidden="true">#</a></h3><ul><li>\u5BC4\u5B58\u5668\u7C7B <ul><li>\u901A\u7528\u5BC4\u5B58\u5668 EAX\u3001EBX\u3001ECX\u3001EDX\uFF1A\u662F ax,bx,cx,dx \u7684\u5EF6\u4F38\uFF0C\u5404\u4E3A 32 \u4F4D <ul><li>AH&amp;AL=AX \u7D2F\u52A0\u5BC4\u5B58\u5668\uFF08accumulator\uFF09</li><li>BH&amp;BL=BX \u57FA\u5740\u5BC4\u5B58\u5668\uFF08base\uFF09</li><li>CH&amp;CL=CX \u8BA1\u6570\u5BC4\u5B58\u5668\uFF08count\uFF09</li><li>DH&amp;DL=DX \u6570\u636E\u5BC4\u5B58\u5668\uFF08data\uFF09</li></ul></li><li>\u7279\u6B8A\u529F\u80FD\u5BC4\u5B58\u5668 ESP\u3001EBP\u3001ESI\u3001EDI\u3001EIP\uFF1A\u662F sp,bp,si,di,ip \u7684\u5EF6\u4F38\uFF0C32 \u4F4D <ul><li>SP stack pointer \u5806\u6808\u6307\u9488\u5BC4\u5B58\u5668 esp</li><li>BP base pointer \u57FA\u5740\u6307\u9488\u5BC4\u5B58\u5668 ebp</li><li>SI source index \u6E90\u53D8\u5740\u5BC4\u5B58\u5668</li><li>DI destination index \u76EE\u7684\u53D8\u5740\u5BC4\u5B58\u5668</li><li>IP instruction pointer \u6307\u4EE4\u6307\u9488\u5BC4\u5B58\u5668</li></ul></li><li>\u6BB5\u5BC4\u5B58\u5668 <ul><li>CS code segment \u4EE3\u7801\u6BB5\u5BC4\u51FA\u53BB</li><li>DS data segment \u6570\u636E\u6BB5\u5BC4\u5B58\u5668</li><li>SS stack segment \u5806\u6808\u6BB5\u5BC4\u5B58\u5668</li><li>ES extra segment \u9644\u52A0\u6BB5\u5BC4\u51FA\u53BB</li></ul></li><li>\u6807\u5FD7\u5BC4\u5B58\u5668 <ul><li>FR flag register</li><li>OF overflow flag</li><li>ZF zero flag</li><li>PF partity lfag</li><li>...</li></ul></li></ul></li><li>\u547D\u4EE4\u7C7B <ul><li>\u901A\u7528 <ul><li>MOV move \u4F20\u9001\u5B57\u6216\u5B57\u8282</li><li>MOVSX extended move with sign data \u5148\u7B26\u53F7\u6269\u5C55\uFF0C\u518D\u4F20\u9001</li><li>MOVZX extended move with zero data \u5148\u96F6\u6269\u5C55\uFF0C\u518D\u4F20\u9001</li><li>PUSH push \u628A\u5B57\u538B\u5165\u5806\u6808</li><li>POP pop \u628A\u5B57\u5F39\u51FA\u5806\u6808</li><li>....</li></ul></li><li>\u8F93\u5165\u8F93\u51FA\u7AEF\u53E3\u4F20\u9001\u6307\u4EE4 <ul><li>IN input I/O \u7AEF\u53E3\u8F93\u5165</li><li>OUT output I/O \u7AEF\u53E3\u8F93\u51FA</li></ul></li><li>\u76EE\u7684\u5730\u5740\u4F20\u9001\u6307\u4EE4 <ul><li>LEA load effective address \u88C5\u5165\u6709\u6548\u5730\u5740</li><li>LDS load DS \u4F20\u9001\u76EE\u6807\u6307\u9488\uFF0C\u628A\u6307\u9488\u5185\u5BB9\u8F6C\u5165 DS</li></ul></li><li>\u6807\u5FD7\u4F20\u9001\u6307\u4EE4 <ul><li>LAHF load AH from flag \u6807\u5FD7\u5BC4\u5B58\u5668\u4F20\u9001</li></ul></li></ul></li><li>\u7B97\u672F\u8FD0\u7B97\u6307\u4EE4 <ul><li>ADD \u52A0\u6CD5</li><li>ADC \u5E26\u8FDB\u4F4D\u52A0\u6CD5</li><li>INC +1</li><li>...</li></ul></li><li>\u903B\u8F91\u8FD0\u7B97\u6307\u4EE4 <ul><li>AND and &amp;</li><li>OR or |</li><li>XOR ~</li><li>NOT ^</li></ul></li><li>\u4E32\u6307\u4EE4 <ul><li>MOVS move string \u4E32\u4F20\u9001</li><li>CMPS \u4E32\u6BD4\u8F83</li></ul></li><li>\u7A0B\u5E8F\u8F6C\u79FB\u6307\u4EE4 <ul><li>\u65E0\u6761\u4EF6\u8F6C\u79FB\u6307\u4EE4\uFF08\u957F\u6307\u4EE4\uFF09 <ul><li>JMP jump \u65E0\u6761\u4EF6\u8F6C\u79FB\u6307\u4EE4</li><li>CALL call \u8FC7\u7A0B\u8C03\u7528</li><li>RET return \u8FC7\u7A0B\u8FD4\u56DE</li><li>RETF return far \u8FC7\u7A0B\u8FD4\u56DE</li></ul></li><li>\u6761\u4EF6\u8F6C\u79FB\u6307\u4EE4 <ul><li>JAE jump when above or equal \u4E0D\u5C0F\u4E8E\u65F6\u8F6C\u79FB</li><li>JNB</li><li>...</li></ul></li><li>\u5FAA\u73AF\u63A7\u5236\u6307\u4EE4 <ul><li>LOOP loop CS \u4E0D\u4E3A\u96F6\u65F6\u5FAA\u73AF</li><li>LOOPE loop equal CX \u4E0D\u4E3A\u96F6\uFF0C\u4E14\u7ED3\u679C\u76F8\u7B49\u65F6\u5FAA\u73AF</li><li>...</li></ul></li><li>\u4E2D\u65AD\u6307\u4EE4 <ul><li>INT interrupt EXC \u4E3A\u96F6\u65F6\u8F6C\u79FB</li><li>INTO overflow interrupt \u6EA2\u51FA\u4E2D\u65AD</li><li>IRET interrupt return \u4E2D\u65AD\u8FD4\u56DE</li></ul></li><li>\u5904\u7406\u5668\u63A7\u5236\u6307\u4EE4 <ul><li>HLT halt \u5904\u7406\u5668\u6682\u505C\uFF0C\u76F4\u5230\u51FA\u73B0\u4E2D\u65AD\u6216\u8005\u590D\u4F4D\u4FE1\u53F7\u624D\u7EE7\u7EED</li><li>WAIT wait \u5F53\u82AF\u7247\u5F15\u7EBF TEST \u4E3A\u9AD8\u7535\u5E73\u662F CPU \u8FDB\u5165\u7B49\u5F85\u72B6\u6001</li><li>ESC \u5207\u6362\u5230\u5916\u5904\u7406\u5668</li><li>LOCK \u5C01\u9501\u603B\u7EBF</li><li>NOP \u7A7A\u64CD\u4F5C</li><li>STC set carry \u7F6E\u8FDB\u4F4D\u6807\u8BC6\u4F4D</li><li>...</li></ul></li></ul></li><li>\u4F2A\u6307\u4EE4 <ul><li>DW definew word \u5B9A\u4E49\u5B57</li><li>PROC \u5B9A\u4E49\u8FC7\u7A0B</li><li>ENDP \u8FC7\u7A0B\u501F\u5BBF</li><li>SEGMENT \u5B9A\u4E49\u6BB5</li><li>ASSUME \u5EFA\u7ACB\u6BB5\u5BC4\u5B58\u5668\u5BFB\u5740</li><li>ENDS end segment \u6BB5\u7ED3\u675F</li><li>END end \u7A0B\u5E8F\u7ED3\u675F</li></ul></li></ul><h3 id="\u6C47\u7F16\u957F\u4EC0\u4E48\u6837\u5B50" tabindex="-1">\u6C47\u7F16\u957F\u4EC0\u4E48\u6837\u5B50 <a class="header-anchor" href="#\u6C47\u7F16\u957F\u4EC0\u4E48\u6837\u5B50" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">gcc -S test.c</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">gcc -o a test.c</span></span>
<span class="line"><span style="color:#A6ACCD;">objdump -S a</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>%rbp \u662F\u6808\u5E27\u6307\u9488\uFF0C\u7528\u4E8E\u6807\u8BC6\u5F53\u524D\u6808\u5E27\u7684\u8D77\u59CB\u4F4D\u7F6E</li><li>%rdi, %rsi, %rdx, %rcx,%r8, %r9 \u516D\u4E2A\u5BC4\u5B58\u5668\u7528\u4E8E\u5B58\u50A8\u51FD\u6570\u8C03\u7528\u65F6\u7684 6 \u4E2A\u53C2\u6570\uFF08\u5982\u679C\u6709 6 \u4E2A\u6216 6 \u4E2A\u4EE5\u4E0A\u53C2\u6570\u7684\u8BDD\uFF09</li></ul><div class="language-asm line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">asm</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">_main</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f40</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">55</span><span style="color:#A6ACCD;"> 	pushq	%</span><span style="color:#89DDFF;">rbp</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f41</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">48</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">89</span><span style="color:#A6ACCD;"> e5 	</span><span style="color:#89DDFF;">movq</span><span style="color:#A6ACCD;">	%</span><span style="color:#89DDFF;">rsp</span><span style="color:#A6ACCD;">, %</span><span style="color:#89DDFF;">rbp</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f44</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">48</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">83</span><span style="color:#A6ACCD;"> ec </span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;"> 	subq	</span><span style="color:#F78C6C;">$32</span><span style="color:#A6ACCD;">, %</span><span style="color:#89DDFF;">rsp</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f48</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	c7 </span><span style="color:#F78C6C;">45</span><span style="color:#A6ACCD;"> fc </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> 	movl	</span><span style="color:#F78C6C;">$0</span><span style="color:#A6ACCD;">, -</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">(%</span><span style="color:#89DDFF;">rbp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f4f</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	c7 </span><span style="color:#F78C6C;">45</span><span style="color:#A6ACCD;"> f8 </span><span style="color:#F78C6C;">03</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> 	movl	</span><span style="color:#F78C6C;">$3</span><span style="color:#A6ACCD;">, -</span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">(%</span><span style="color:#89DDFF;">rbp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f56</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	c7 </span><span style="color:#F78C6C;">45</span><span style="color:#A6ACCD;"> f4 </span><span style="color:#F78C6C;">04</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> 	movl	</span><span style="color:#F78C6C;">$4</span><span style="color:#A6ACCD;">, -</span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">(%</span><span style="color:#89DDFF;">rbp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f5d</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	8b </span><span style="color:#F78C6C;">45</span><span style="color:#A6ACCD;"> f8 	movl	-</span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">(%</span><span style="color:#89DDFF;">rbp</span><span style="color:#A6ACCD;">), %</span><span style="color:#89DDFF;">eax</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f60</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">03</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">45</span><span style="color:#A6ACCD;"> f4 	addl	-</span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">(%</span><span style="color:#89DDFF;">rbp</span><span style="color:#A6ACCD;">), %</span><span style="color:#89DDFF;">eax</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f63</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">89</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">45</span><span style="color:#A6ACCD;"> f0 	movl	%</span><span style="color:#89DDFF;">eax</span><span style="color:#A6ACCD;">, -</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">(%</span><span style="color:#89DDFF;">rbp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f66</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	8b </span><span style="color:#F78C6C;">75</span><span style="color:#A6ACCD;"> f0 	movl	-</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">(%</span><span style="color:#89DDFF;">rbp</span><span style="color:#A6ACCD;">), %</span><span style="color:#89DDFF;">esi</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f69</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">48</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8d</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3d</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">36</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> 	leaq	</span><span style="color:#F78C6C;">54</span><span style="color:#A6ACCD;">(%</span><span style="color:#89DDFF;">rip</span><span style="color:#A6ACCD;">), %</span><span style="color:#89DDFF;">rdi</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f70</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	b0 </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> 	movb	</span><span style="color:#F78C6C;">$0</span><span style="color:#A6ACCD;">, %</span><span style="color:#89DDFF;">al</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f72</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	e8 </span><span style="color:#F78C6C;">0d</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">00</span><span style="color:#A6ACCD;"> 	callq	</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;"> &lt;dyld_stub_binder+</span><span style="color:#F78C6C;">0x100000f84</span><span style="color:#A6ACCD;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f77</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">31</span><span style="color:#A6ACCD;"> f6 	xorl	%</span><span style="color:#89DDFF;">esi</span><span style="color:#A6ACCD;">, %</span><span style="color:#89DDFF;">esi</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f79</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">89</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">45</span><span style="color:#A6ACCD;"> ec 	movl	%</span><span style="color:#89DDFF;">eax</span><span style="color:#A6ACCD;">, -</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">(%</span><span style="color:#89DDFF;">rbp</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f7c</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">89</span><span style="color:#A6ACCD;"> f0 	movl	%</span><span style="color:#89DDFF;">esi</span><span style="color:#A6ACCD;">, %</span><span style="color:#89DDFF;">eax</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f7e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">48</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">83</span><span style="color:#A6ACCD;"> c4 </span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;"> 	addq	</span><span style="color:#F78C6C;">$32</span><span style="color:#A6ACCD;">, %</span><span style="color:#89DDFF;">rsp</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f82</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">5d</span><span style="color:#A6ACCD;"> 	popq	%</span><span style="color:#89DDFF;">rbp</span></span>
<span class="line"><span style="color:#A6ACCD;">100000f83</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">	c3 	retq</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,9),e=[o];function t(r,C,c,i,A,y){return n(),l("div",null,e)}const u=s(p,[["render",t]]);export{F as __pageData,u as default};
