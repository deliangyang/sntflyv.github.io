import{_ as s}from"./chunks/gzh.1e76ebd4.js";import{_ as n,c as a,o as e,a as p}from"./app.0ce55433.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"t/\u7F16\u7A0B\u8BED\u8A00/python/Python\u5185\u6838\u6E90\u7801\u89E3\u6790/\u5E95\u5C42\u57FA\u7840\u6570\u636E\u7ED3\u6784PyObject.md","lastUpdated":1729589704000}'),l={name:"t/\u7F16\u7A0B\u8BED\u8A00/python/Python\u5185\u6838\u6E90\u7801\u89E3\u6790/\u5E95\u5C42\u57FA\u7840\u6570\u636E\u7ED3\u6784PyObject.md"},o=p(`<p>Python \u5185\u6838\u4E2D\u6700\u5E38\u89C1\u7684\u6570\u636E\u7ED3\u6784\u5C31\u662F PyObject\uFF0C\u5B83\u4E5F\u662F\u6700\u91CD\u8981\u7684\u6570\u636E\u7ED3\u6784\uFF0CPython \u6570\u636E\u7C7B\u578B\u6700\u5E95\u5C42\u7684\u6570\u636E\u7ED3\u6784\uFF0Cint\u3001string\u3001float\u3001boolean\u3001list\u3001set\u3001hash \u7B49\u90FD\u662F\u57FA\u4E8E\u8FD9\u4E2A\u6570\u636E\u7ED3\u6784\u6765\u6269\u5C55\u7684\u3002PyObject \u662F\u5B9A\u957F\u5BF9\u8C61\uFF0CPyVarObject \u662F\u53D8\u957F\u5BF9\u8C61\u3002</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">/* Nothing is actually declared to be a PyObject, but every pointer to</span></span>
<span class="line"><span style="color:#676E95;"> * a Python object can be cast to a PyObject*.  This is inheritance built</span></span>
<span class="line"><span style="color:#676E95;"> * by hand.  Similarly every pointer to a variable-size Python object can,</span></span>
<span class="line"><span style="color:#676E95;"> * in addition, be cast to PyVarObject*.</span></span>
<span class="line"><span style="color:#676E95;"> */</span></span>
<span class="line"><span style="color:#F78C6C;">typedef</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">struct</span><span style="color:#A6ACCD;"> _object </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    _PyObject_HEAD_EXTRA</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">Py_ssize_t</span><span style="color:#F07178;"> ob_refcnt</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    PyTypeObject </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">ob_type</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> PyObject</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">typedef</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">struct</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    PyObject ob_base</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">Py_ssize_t</span><span style="color:#F07178;"> ob_size</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;"> /* Number of items in variable part */</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> PyVarObject</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>\u8FD9\u7BC7\u6587\u7AE0\u4E3B\u8981\u662F\u4E3A\u4E86\u5F15\u5165 PyObject\uFF0C\u81F3\u4E8E Python \u6570\u636E\u7ED3\u6784\u7684\u5E95\u5C42\u5B9E\u73B0\u4E0D\u505A\u8BE6\u89E3\u89E3\u6790\uFF0C\u540E\u9762\u4F1A\u9488\u5BF9\u6BCF\u4E00\u79CD\u6570\u636E\u7ED3\u6784\u505A\u8BE6\u7EC6\u7684\u5206\u6790\u3002</p><p>PyObject \u7684\u6570\u636E\u7ED3\u6784\u53EF\u4EE5\u5728\u5185\u6838\u6E90\u7801<code>Include/cpython/object.h</code>\u4E2D\u627E\u5230\u3002</p><p>PyObject \u662F\u4E00\u4E2A\u53CC\u5411\u94FE\u8868\u7ED3\u6784\uFF0C<code>_PyObject_HEAD_EXTRA</code>\u5B9A\u4E49\u4E86 next \u548C prev \u6307\u9488\u3002ob_refcnt \u4E3A\u5F15\u7528\u8BA1\u6570\u5668\uFF0C\u8C03\u7528\u4E00\u6B21\u5F15\u7528\u8BA1\u6570\u5668\u52A0\u4E00\uFF0C\u4F7F\u7528\u5B8C\u8BA1\u6570\u5668\u51CF\u4E00\uFF0C\u4E3A 0 \u540E\u6240\u5360\u7528\u7684\u5185\u5B58\u5757\u4F1A\u88AB\u91CA\u653E\u3002</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">/* PyTypeObject structure is defined in cpython/object.h.</span></span>
<span class="line"><span style="color:#676E95;">   In Py_LIMITED_API, PyTypeObject is an opaque structure. */</span></span>
<span class="line"><span style="color:#F78C6C;">typedef</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">struct</span><span style="color:#A6ACCD;"> _typeobject PyTypeObject</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// If this structure is modified, Doc/includes/typestruct.h should be updated</span></span>
<span class="line"><span style="color:#676E95;">// as well.</span></span>
<span class="line"><span style="color:#C792EA;">struct</span><span style="color:#A6ACCD;"> _typeobject </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    PyObject_VAR_HEAD</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">char</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">tp_name</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;"> /* For printing, in format &quot;&lt;module&gt;.&lt;name&gt;&quot; */</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">Py_ssize_t</span><span style="color:#F07178;"> tp_basicsize</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> tp_itemsize</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;"> /* For allocation */</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">    ... </span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">/* PyObject_VAR_HEAD defines the initial segment of all variable-size</span></span>
<span class="line"><span style="color:#676E95;"> * container objects.  These end with a declaration of an array with 1</span></span>
<span class="line"><span style="color:#676E95;"> * element, but enough space is malloc&#39;ed so that the array actually</span></span>
<span class="line"><span style="color:#676E95;"> * has room for ob_size elements.  Note that ob_size is an element count,</span></span>
<span class="line"><span style="color:#676E95;"> * not necessarily a byte count.</span></span>
<span class="line"><span style="color:#676E95;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">#define</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">PyObject_VAR_HEAD</span><span style="color:#A6ACCD;">      PyVarObject ob_base</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><code>_typeobject</code>\u4E2D\u7684<code>PyObject_VAR_HEAD</code>\u662F\u4E00\u4E2A\u53D8\u957F\u5BF9\u8C61\uFF0C\u76F8\u6BD4 PyObject \u591A\u4E86\u4E00\u4E2A ob_size\uFF0C\u8868\u793A\u53D8\u957F\u90E8\u5206\u7684\u5143\u7D20\u4E2A\u6570\u3002</p><p>\u8FD8\u6709\u4E9B\u5B57\u6BB5\u5BF9\u4E8E\u4E0D\u540C\u7684\u6570\u636E\u7C7B\u578B\u6709\u5176\u4E0D\u540C\u7684\u4F5C\u7528\uFF0C\u8FD9\u91CC\u4E0D\u5C55\u5F00\u5206\u6790\u3002</p><p>\u7F16\u7A0B\u8BED\u8A00\u79BB\u4E0D\u5F00\u7B97\u6CD5\u548C\u6570\u636E\u7ED3\u6784\uFF0C\u6570\u636E\u7ED3\u6784\u5C24\u4E3A\u91CD\u8981\uFF0C\u597D\u7684\u6570\u636E\u7ED3\u6784\u8BBE\u8BA1\u8BA9\u6211\u4EEC\u7684\u5F00\u53D1\u5DE5\u4F5C\u4E8B\u534A\u529F\u500D\uFF0C\u597D\u7684\u6570\u636E\u7ED3\u6784\u53EF\u4EE5\u8BA9\u7B97\u6CD5\u7684\u5B9E\u73B0\u53D8\u5F97\u7B80\u5355\uFF0C\u4E5F\u53EF\u4EE5\u8BA9\u7B97\u6CD5\u7684\u6548\u7387\u53D8\u5F97\u66F4\u9AD8\u3002Python \u5185\u6838\u4E2D\u7684\u6570\u636E\u7ED3\u6784\u8BBE\u8BA1\u7684\u975E\u5E38\u597D\uFF0C\u8FD9\u4E5F\u662F Python \u80FD\u591F\u5FEB\u901F\u53D1\u5C55\u7684\u4E00\u4E2A\u91CD\u8981\u539F\u56E0\u3002</p><p><i>\u672C\u4EBA\u70ED\u8877\u4E8E\u7F16\u7A0B\u8BED\u8A00\u5E95\u5C42\u5B9E\u73B0\u539F\u7406\u3002\u901A\u8FC7\u4E00\u4E9B\u7A7A\u95F2\u65F6\u95F4\u9605\u8BFB\u6E90\u7801\uFF0C\u8BB0\u5F55\u81EA\u5DF1\u7684\u6240\u5B66\u53CA\u5FC3\u5F97\u3002\u4F60\u7684\u5173\u6CE8\u548C\u9F13\u52B1\u662F\u5BF9\u6211\u6301\u7EED\u8F93\u51FA\u5206\u4EAB\u7684\u52A8\u529B\uFF0C\u611F\u8C22\uFF0C\u5171\u540C\u8FDB\u6B65\u3002</i></p><p><img src="`+s+'" alt="\u516C\u4F17\u53F7"></p>',11),c=[o];function t(r,i,y,b,u,_){return e(),a("div",null,c)}const D=n(l,[["render",t]]);export{d as __pageData,D as default};
